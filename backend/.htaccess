# =============================================================
# START: Disable ModSecurity for Telegram Webhook
# This is to prevent the firewall from blocking Telegram's POST requests.
# =============================================================
<IfModule mod_security2.c>
    <Files "telegramWebhook.php">
        SecRuleEngine Off
    </Files>
</IfModule>
# =============================================================
# END: ModSecurity fix
# =============================================================


# --- Original SPA Redirect Rules ---

# Enable the rewrite engine
RewriteEngine On

# Set the rewrite base to the current directory
RewriteBase /

# --- Front Controller ---
# If the request is for an existing file...
RewriteCond %{REQUEST_FILENAME} -f
# ...or the request is for an existing directory...
RewriteCond %{REQUEST_FILENAME} -d
# ...then do nothing and let the server handle it.
# The [L] flag means this is the last rule.
RewriteRule ^ - [L]

# Otherwise (if the file or directory does not exist)...
# ...rewrite the request to index.php.
RewriteRule . index.php [L]
