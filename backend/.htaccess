# .htaccess for URL rewriting

RewriteEngine On

# 如果请求的是一个已存在的文件或目录，则直接服务
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# 将 /api/get_results 重写到 api.php
RewriteRule ^api/get_results/?$ api.php [L]

# 注意: webhook 的 URL 不需要重写，直接访问即可
# 例如: https://wenge.cloudns.ch/webhook.php?secret=a_very_secret_string_12345
# 为了更安全，我们使用了路径来做秘密验证，如 webhook.php/a_very_secret_string_12345
# 这样 URL 看起来更像一个 RESTful 路由
RewriteRule ^webhook.php/(.*)$ webhook.php?secret=$1 [L]