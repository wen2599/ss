# Enable the rewrite engine
RewriteEngine On

# Allow direct access to telegramWebhook.php and the diagnostic script
RewriteCond %{REQUEST_URI} !^/telegramWebhook.php
RewriteCond %{REQUEST_URI} !^/check_webhook_init.php

# Set the rewrite base to the current directory
RewriteBase /

# --- Front Controller ---
# If the request is not for an existing file...
RewriteCond %{REQUEST_FILENAME} !-f
# ...and the request is not for an existing directory...
RewriteCond %{REQUEST_FILENAME} !-d
# ...then rewrite the request to index.php.
# The [L] flag means this is the last rule.
RewriteRule . index.php [L]